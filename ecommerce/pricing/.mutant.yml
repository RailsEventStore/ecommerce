requires:
  - ./test/test_helper
integration: minitest
coverage_criteria:
  process_abort: true
matcher:
  subjects:
    - Pricing*
  ignore:
    - Pricing::Configuration*
    - Pricing::OnCalculateTotalValue#last_discount_order_event
    - Pricing::SetPercentageDiscountHandler#last_event
    - Pricing::SetPercentageDiscountHandler#initialize
    - Pricing::ResetPercentageDiscountHandler#initialize
    - Pricing::ChangePercentageDiscountHandler#initialize
    - Pricing::OnRemoveItemFromBasket#initialize
    - Pricing::Discounts::NoPercentageDiscount#discount
    - Pricing::Order#calculate_sub_amounts
    - Pricing::Product::HappyHoursSchedule#create_schedule_from
    - Pricing::Helpers::HappyHoursForProduct*
    - Pricing::CreateHappyHourHandler*
    - Pricing::Test*
