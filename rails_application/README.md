# Rails on Rails application
# MyCommerce.md — E-commerce Backend Platform на Ruby on Rails

Ruby on Rails (RoR) — это фреймворк для создания веб-приложений, который использует язык программирования Ruby. Rails построен на принципах "Convention over Configuration" (конвенция вместо конфигурации) и "Don't Repeat Yourself" (не повторяйся), что упрощает разработку и ускоряет процесс создания приложений.

Основные особенности Ruby on Rails:
1. MVC
2.  Конвенция вместо конфигурации
    Rails следуют принципу "Convention over Configuration", что означает, что фреймворк пытается угадать, что вы хотите сделать, основываясь на заранее определенных соглашениях. Например, если у вас есть модель User, то Rails будет искать таблицу в базе данных с именем users (во множественном числе), и не нужно явно указывать это в коде.
3. ActiveRecord (ORM)
   Rails использует ActiveRecord, который является объектно-реляционным маппером (ORM). Это значит, что данные из базы данных представляются в виде объектов, с которыми можно работать как с обычными Ruby объектами.
4. Routing (Маршрутизация)
   Rails использует систему маршрутизации для обработки URL-запросов. В файле config/routes.rb определяются все маршруты, которые соответствуют определённым действиям в контроллерах.
5.  Встроенная миграция базы данных
6. Тестирование RSpec
7. RESTful архитектура (который упрощает создание API и работу с ним.)
Быстрая разработка


## MyCommerce.md 
то модульная и масштабируемая e-commerce платформа, построенная на Ruby on Rails с использованием архитектурных подходов CQRS и Event Sourcing.

Проект задуман как надёжная основа для построения интернет-магазинов и B2B решений с высокой гибкостью, расширяемостью и интеграцией с современными технологиями

## Основные цели проекта
* Демонстрация возможности модульной архитектуры в сложных Rails-приложениях.
* Реализация DDD, CQRS и Event Sourcing в контексте Rails.
* Обучение архитектурам, ориентированным на события.
* Популяризация профессиональных техник тестирования, таких как мутационное тестирование.


## Особенности

- Поддержка заказов, продуктов, доставок, клиентов и купонов
- Чистая архитектура: CQRS (Command Query Responsibility Segregation) - 
это паттерн проектирования, который разделяет ответственность за обработку команд (изменений данных) и запросов (чтение данных) в системе. Основная идея этого подхода заключается в том, чтобы для операций записи и чтения использовать разные модели данных и, возможно, разные механизмы хранения, что позволяет более эффективно масштабировать приложение и улучшать производительность.
- Event Sourcing с использованием Rails Event Store -
  это паттерн проектирования, при котором все изменения состояния системы сохраняются как последовательность событий. Вместо того чтобы хранить текущее состояние объекта, вы храните события, которые привели к этому состоянию. Эти события можно воспроизвести в любой момент времени, чтобы восстановить текущие данные.
- Авторизация пользователей
- RSpec + тесты на бизнес-логику
- Кастомизированный интерфейс и бренд MyCommerce.md
- Добавлен логотип и навигация
- Инициализация данных через `db/seeds.rb`
  Файл db/seeds.rb в Ruby on Rails используется для заполнения базы данных начальными или тестовыми данными. Это может быть полезно в нескольких случаях, например, при создании демонстрационных данных для разработки, тестирования или при первом запуске приложения.

## Архитектура и структура проекта
Приложение разделено на отдельные домены, каждый из которых инкапсулирует свою бизнес-логику:
* crm: Управление клиентами.
* inventory: Управление запасами.
* invoicing: Выставление счетов.
* ordering: Обработка заказов.
* payments: Обработка платежей.
* pricing: Ценообразование.
* processes: Управление бизнес-процессами.
* product_catalog: Каталог продуктов.
* shipping: Доставка.
* taxes: Налогообложение.
  Каждый домен представлен в виде отдельной директории внутри папки ecommerce/, что способствует модульности и изоляции бизнес-логики.
## Установка и запуск

### Зависимости

- Ruby 3.3.7
- PostgreSQL
- Redis
- Node.js & Yarn (для frontend-части)

### Kickstart

- run `make install` to install dependencies, create db, setup schema and seed data
- run `make dev` to start the rails server and tailwindcss watcher

## Testing

- run `make test` to run unit and integration tests
- run `make mutate` to perform mutation coverage

The script is called `big_picture.rb`, and you can execute it like this:

```shell
bin/rails r script/big_picture.rb
```
